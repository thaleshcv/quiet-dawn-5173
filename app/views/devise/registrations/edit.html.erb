<%= content_for :page_head do %>
	<h2 class="title">Edit Account</h2>

	<% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
		<div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
	<% end %>

	<div class="tabs is-centered">
		<ul>
			<li class="<%= "is-active" if current_section == 'profile' %>">
				<%= link_to 'Profile',
					edit_user_registration_path(section: "profile"),
					class: "button is-ghost" %>
			</li>
			<li class="<%= "is-active" if current_section == 'password' %>">
				<%= link_to 'Password',
					edit_user_registration_path(section: "password"),
					class: "button is-ghost" %>
			</li>
			<li class="<%= "is-active" if current_section == 'danger_zone' %>">
				<%= link_to 'Danger zone',
					edit_user_registration_path(section: "danger_zone"),
					class: "button is-ghost" %>
			</li>
		</ul>
	</div>
<% end %>

<%= render "partials/flash_messages" %>

<div class="compact">
	<%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
		<%= render "devise/shared/error_messages", resource: resource %>
		<%= hidden_field_tag :section, current_section %>
		<%= render partial: "devise/registrations/edit/#{current_section}", locals: { form: f } %>
	<% end %>
</div>
